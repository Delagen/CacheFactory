{"version":3,"file":"cachefactory.es2015.js","sources":["../node_modules/yabh/src/index.js","../src/index.js"],"sourcesContent":["/**\n * @method bubbleUp\n * @param {array} heap The heap.\n * @param {function} weightFunc The weight function.\n * @param {number} n The index of the element to bubble up.\n */\nconst bubbleUp = function (heap, weightFunc, n) {\n  const element = heap[n]\n  const weight = weightFunc(element)\n  // When at 0, an element can not go up any further.\n  while (n > 0) {\n    // Compute the parent element's index, and fetch it.\n    let parentN = Math.floor((n + 1) / 2) - 1\n    let parent = heap[parentN]\n    // If the parent has a lesser weight, things are in order and we\n    // are done.\n    if (weight >= weightFunc(parent)) {\n      break\n    } else {\n      heap[parentN] = element\n      heap[n] = parent\n      n = parentN\n    }\n  }\n}\n\n/**\n * @method bubbleDown\n * @param {array} heap The heap.\n * @param {function} weightFunc The weight function.\n * @param {number} n The index of the element to sink down.\n */\nconst bubbleDown = function (heap, weightFunc, n) {\n  var length = heap.length\n  let node = heap[n]\n  let nodeWeight = weightFunc(node)\n\n  while (true) {\n    let child2N = (n + 1) * 2\n    let child1N = child2N - 1\n    let swap = null;\n    if (child1N < length) {\n      let child1 = heap[child1N]\n      let child1Weight = weightFunc(child1)\n      // If the score is less than our node's, we need to swap.\n      if (child1Weight < nodeWeight) {\n        swap = child1N\n      }\n    }\n    // Do the same checks for the other child.\n    if (child2N < length) {\n      let child2 = heap[child2N]\n      let child2Weight = weightFunc(child2)\n      if (child2Weight < (swap === null ? nodeWeight : weightFunc(heap[child1N]))) {\n        swap = child2N\n      }\n    }\n\n    if (swap === null) {\n      break\n    } else {\n      heap[n] = heap[swap]\n      heap[swap] = node\n      n = swap\n    }\n  }\n}\n\nfunction BinaryHeap (weightFunc, compareFunc) {\n  if (!weightFunc) {\n    weightFunc = function (x) { return x }\n  }\n  if (!compareFunc) {\n    compareFunc = function (x, y) { return x === y }\n  }\n  if (typeof weightFunc !== 'function') {\n    throw new Error('BinaryHeap([weightFunc][, compareFunc]): \"weightFunc\" must be a function!')\n  }\n  if (typeof compareFunc !== 'function') {\n    throw new Error('BinaryHeap([weightFunc][, compareFunc]): \"compareFunc\" must be a function!')\n  }\n  this.weightFunc = weightFunc\n  this.compareFunc = compareFunc\n  this.heap = []\n}\n\nlet BHProto = BinaryHeap.prototype\n\nBHProto.push = function (node) {\n  this.heap.push(node)\n  bubbleUp(this.heap, this.weightFunc, this.heap.length - 1)\n}\n\nBHProto.peek = function () {\n  return this.heap[0]\n}\n\nBHProto.pop = function () {\n  let front = this.heap[0]\n  let end = this.heap.pop()\n  if (this.heap.length > 0) {\n    this.heap[0] = end\n    bubbleDown(this.heap, this.weightFunc, 0)\n  }\n  return front\n}\n\nBHProto.remove = function (node) {\n  var length = this.heap.length\n  for (let i = 0; i < length; i++) {\n    if (this.compareFunc(this.heap[i], node)) {\n      let removed = this.heap[i]\n      let end = this.heap.pop()\n      if (i !== length - 1) {\n        this.heap[i] = end\n        bubbleUp(this.heap, this.weightFunc, i)\n        bubbleDown(this.heap, this.weightFunc, i)\n      }\n      return removed\n    }\n  }\n  return null\n}\n\nBHProto.removeAll = function () {\n  this.heap = []\n}\n\nBHProto.size = function () {\n  return this.heap.length\n}\n\nexport default BinaryHeap\n","import BinaryHeap from '../node_modules/yabh/src/index'\n\nlet _Promise = null\ntry {\n  _Promise = window.Promise\n} catch (e) {}\n\nlet utils = {\n  isNumber (value) {\n    return typeof value === 'number'\n  },\n\n  isString (value) {\n    return typeof value === 'string'\n  },\n\n  isObject (value) {\n    return value !== null && typeof value === 'object'\n  },\n\n  isFunction (value) {\n    return typeof value === 'function'\n  },\n\n  fromJson (value) {\n    return JSON.parse(value)\n  },\n\n  equals (a, b) {\n    return a === b\n  },\n\n  Promise: _Promise\n}\n\nfunction _keys (collection) {\n  const keys = []\n  let key\n  if (!utils.isObject(collection)) {\n    return keys\n  }\n  for (key in collection) {\n    if (collection.hasOwnProperty(key)) {\n      keys.push(key)\n    }\n  }\n  return keys\n}\n\nfunction _isPromiseLike (value) {\n  return value && typeof value.then === 'function'\n}\n\nfunction _stringifyNumber (number) {\n  if (utils.isNumber(number)) {\n    return number.toString()\n  }\n  return number\n}\n\nfunction _keySet (collection) {\n  const keySet = {}\n  let key\n  if (!utils.isObject(collection)) {\n    return keySet\n  }\n  for (key in collection) {\n    if (collection.hasOwnProperty(key)) {\n      keySet[key] = key\n    }\n  }\n  return keySet\n}\n\nconst defaults = {\n  capacity: Number.MAX_VALUE,\n  maxAge: Number.MAX_VALUE,\n  deleteOnExpire: 'none',\n  onExpire: null,\n  cacheFlushInterval: null,\n  recycleFreq: 1000,\n  storageMode: 'memory',\n  storageImpl: null,\n  disabled: false,\n  storagePrefix: 'cachefactory.caches.',\n  storeOnResolve: false,\n  storeOnReject: false\n}\n\nlet caches = {}\n\nfunction createCache (cacheId, options) {\n  if (cacheId in caches) {\n    throw new Error(`${cacheId} already exists!`)\n  } else if (!utils.isString(cacheId)) {\n    throw new Error('cacheId must be a string!')\n  }\n\n  let $$data = {}\n  let $$promises = {}\n  let $$storage = null\n  let $$expiresHeap = new BinaryHeap(function (x) { return x.expires }, utils.equals)\n  let $$lruHeap = new BinaryHeap(function (x) { return x.accessed }, utils.equals)\n\n  let cache = caches[cacheId] = {\n\n    $$id: cacheId,\n\n    destroy () {\n      clearInterval(this.$$cacheFlushIntervalId)\n      clearInterval(this.$$recycleFreqId)\n      this.removeAll()\n      if ($$storage) {\n        $$storage().removeItem(`${this.$$prefix}.keys`)\n        $$storage().removeItem(this.$$prefix)\n      }\n      $$storage = null\n      $$data = null\n      $$lruHeap = null\n      $$expiresHeap = null\n      this.$$prefix = null\n      delete caches[this.$$id]\n    },\n\n    disable () {\n      this.$$disabled = true\n    },\n\n    enable () {\n      delete this.$$disabled\n    },\n\n    get (key, options) {\n      if (Array.isArray(key)) {\n        let keys = key\n        let values = []\n\n        keys.forEach((key) => {\n          let value = this.get(key, options)\n          if (value !== null && value !== undefined) {\n            values.push(value)\n          }\n        })\n\n        return values\n      } else {\n        key = _stringifyNumber(key)\n\n        if (this.$$disabled) {\n          return\n        }\n      }\n\n      options = options || {}\n      if (!utils.isString(key)) {\n        throw new Error('key must be a string!')\n      } else if (options && !utils.isObject(options)) {\n        throw new Error('options must be an object!')\n      } else if (options.onExpire && !utils.isFunction(options.onExpire)) {\n        throw new Error('options.onExpire must be a function!')\n      }\n\n      let item\n\n      if ($$storage) {\n        if ($$promises[key]) {\n          return $$promises[key]\n        }\n\n        let itemJson = $$storage().getItem(`${this.$$prefix}.data.${key}`)\n\n        if (itemJson) {\n          item = utils.fromJson(itemJson)\n        } else {\n          return\n        }\n      } else if (utils.isObject($$data)) {\n        if (!(key in $$data)) {\n          return\n        }\n\n        item = $$data[key]\n      }\n\n      let value = item.value\n      let now = new Date().getTime()\n\n      if ($$storage) {\n        $$lruHeap.remove({\n          key: key,\n          accessed: item.accessed\n        })\n        item.accessed = now\n        $$lruHeap.push({\n          key: key,\n          accessed: now\n        })\n      } else {\n        $$lruHeap.remove(item)\n        item.accessed = now\n        $$lruHeap.push(item)\n      }\n\n      if (this.$$deleteOnExpire === 'passive' && 'expires' in item && item.expires < now) {\n        this.remove(key)\n\n        if (this.$$onExpire) {\n          this.$$onExpire(key, item.value, options.onExpire)\n        } else if (options.onExpire) {\n          options.onExpire.call(this, key, item.value)\n        }\n        value = undefined\n      } else if ($$storage) {\n        $$storage().setItem(`${this.$$prefix}.data.${key}`, JSON.stringify(item))\n      }\n\n      return value\n    },\n\n    info (key) {\n      if (key) {\n        let item\n        if ($$storage) {\n          let itemJson = $$storage().getItem(`${this.$$prefix}.data.${key}`)\n\n          if (itemJson) {\n            item = utils.fromJson(itemJson)\n            return {\n              created: item.created,\n              accessed: item.accessed,\n              expires: item.expires,\n              isExpired: (new Date().getTime() - item.created) > (item.maxAge || this.$$maxAge)\n            }\n          } else {\n            return undefined\n          }\n        } else if (utils.isObject($$data) && key in $$data) {\n          item = $$data[key]\n\n          return {\n            created: item.created,\n            accessed: item.accessed,\n            expires: item.expires,\n            isExpired: (new Date().getTime() - item.created) > (item.maxAge || this.$$maxAge)\n          }\n        } else {\n          return undefined\n        }\n      } else {\n        return {\n          id: this.$$id,\n          capacity: this.$$capacity,\n          maxAge: this.$$maxAge,\n          deleteOnExpire: this.$$deleteOnExpire,\n          onExpire: this.$$onExpire,\n          cacheFlushInterval: this.$$cacheFlushInterval,\n          recycleFreq: this.$$recycleFreq,\n          storageMode: this.$$storageMode,\n          storageImpl: $$storage ? $$storage() : undefined,\n          disabled: !!this.$$disabled,\n          size: $$lruHeap && $$lruHeap.size() || 0\n        }\n      }\n    },\n\n    keys () {\n      if ($$storage) {\n        let keysJson = $$storage().getItem(`${this.$$prefix}.keys`)\n\n        if (keysJson) {\n          return utils.fromJson(keysJson)\n        } else {\n          return []\n        }\n      } else {\n        return _keys($$data)\n      }\n    },\n\n    keySet () {\n      if ($$storage) {\n        let keysJson = $$storage().getItem(`${this.$$prefix}.keys`)\n        let kSet = {}\n\n        if (keysJson) {\n          let keys = utils.fromJson(keysJson)\n\n          for (var i = 0; i < keys.length; i++) {\n            kSet[keys[i]] = keys[i]\n          }\n        }\n        return kSet\n      } else {\n        return _keySet($$data)\n      }\n    },\n\n    put (key, value, options) {\n      options || (options = {})\n\n      let storeOnResolve = 'storeOnResolve' in options ? !!options.storeOnResolve : this.$$storeOnResolve\n      let storeOnReject = 'storeOnReject' in options ? !!options.storeOnReject : this.$$storeOnReject\n\n      let getHandler = (store, isError) => {\n        return (v) => {\n          if (store) {\n            delete $$promises[key]\n            if (utils.isObject(v) && 'status' in v && 'data' in v) {\n              v = [v.status, v.data, v.headers(), v.statusText]\n              this.put(key, v)\n            } else {\n              this.put(key, v)\n            }\n          }\n          if (isError) {\n            if (utils.Promise) {\n              return utils.Promise.reject(v)\n            } else {\n              throw v\n            }\n          } else {\n            return v\n          }\n        }\n      }\n\n      if (this.$$disabled || !utils.isObject($$data) || value === null || value === undefined) {\n        return\n      }\n      key = _stringifyNumber(key)\n\n      if (!utils.isString(key)) {\n        throw new Error('key must be a string!')\n      }\n\n      let now = new Date().getTime()\n      let item = {\n        key: key,\n        value: _isPromiseLike(value) ? value.then(getHandler(storeOnResolve, false), getHandler(storeOnReject, true)) : value,\n        created: options.created === undefined ? now : options.created,\n        accessed: options.accessed === undefined ? now : options.accessed\n      }\n      if (options.maxAge) {\n        item.maxAge = options.maxAge\n      }\n\n      if (options.expires === undefined) {\n        item.expires = item.created + (item.maxAge || this.$$maxAge)\n      } else {\n        item.expires = options.expires\n      }\n\n      if ($$storage) {\n        if (_isPromiseLike(item.value)) {\n          $$promises[key] = item.value\n          return $$promises[key]\n        }\n        let keysJson = $$storage().getItem(`${this.$$prefix}.keys`)\n        let keys = keysJson ? utils.fromJson(keysJson) : []\n        let itemJson = $$storage().getItem(`${this.$$prefix}.data.${key}`)\n\n        // Remove existing\n        if (itemJson) {\n          this.remove(key)\n        }\n        // Add to expires heap\n        $$expiresHeap.push({\n          key: key,\n          expires: item.expires\n        })\n        // Add to lru heap\n        $$lruHeap.push({\n          key: key,\n          accessed: item.accessed\n        })\n        // Set item\n        $$storage().setItem(`${this.$$prefix}.data.${key}`, JSON.stringify(item))\n        let exists = false\n        for (var i = 0; i < keys.length; i++) {\n          if (keys[i] === key) {\n            exists = true\n            break\n          }\n        }\n        if (!exists) {\n          keys.push(key)\n        }\n        $$storage().setItem(`${this.$$prefix}.keys`, JSON.stringify(keys))\n      } else {\n        // Remove existing\n        if ($$data[key]) {\n          this.remove(key)\n        }\n        // Add to expires heap\n        $$expiresHeap.push(item)\n        // Add to lru heap\n        $$lruHeap.push(item)\n        // Set item\n        $$data[key] = item\n        delete $$promises[key]\n      }\n\n      // Handle exceeded capacity\n      if ($$lruHeap.size() > this.$$capacity) {\n        this.remove($$lruHeap.peek().key)\n      }\n\n      return value\n    },\n\n    remove (key) {\n      key += ''\n      delete $$promises[key]\n      if ($$storage) {\n        let itemJson = $$storage().getItem(`${this.$$prefix}.data.${key}`)\n\n        if (itemJson) {\n          let item = utils.fromJson(itemJson)\n          $$lruHeap.remove({\n            key: key,\n            accessed: item.accessed\n          })\n          $$expiresHeap.remove({\n            key: key,\n            expires: item.expires\n          })\n          $$storage().removeItem(`${this.$$prefix}.data.${key}`)\n          let keysJson = $$storage().getItem(`${this.$$prefix}.keys`)\n          let keys = keysJson ? utils.fromJson(keysJson) : []\n          let index = keys.indexOf(key)\n\n          if (index >= 0) {\n            keys.splice(index, 1)\n          }\n          $$storage().setItem(`${this.$$prefix}.keys`, JSON.stringify(keys))\n          return item.value\n        }\n      } else if (utils.isObject($$data)) {\n        let value = $$data[key] ? $$data[key].value : undefined\n        $$lruHeap.remove($$data[key])\n        $$expiresHeap.remove($$data[key])\n        $$data[key] = null\n        delete $$data[key]\n        return value\n      }\n    },\n\n    removeAll () {\n      if ($$storage) {\n        $$lruHeap.removeAll()\n        $$expiresHeap.removeAll()\n        let keysJson = $$storage().getItem(`${this.$$prefix}.keys`)\n\n        if (keysJson) {\n          let keys = utils.fromJson(keysJson)\n\n          for (var i = 0; i < keys.length; i++) {\n            this.remove(keys[i])\n          }\n        }\n        $$storage().setItem(`${this.$$prefix}.keys`, JSON.stringify([]))\n      } else if (utils.isObject($$data)) {\n        $$lruHeap.removeAll()\n        $$expiresHeap.removeAll()\n        for (var key in $$data) {\n          $$data[key] = null\n        }\n        $$data = {}\n      } else {\n        $$lruHeap.removeAll()\n        $$expiresHeap.removeAll()\n        $$data = {}\n      }\n      $$promises = {}\n    },\n\n    removeExpired () {\n      let now = new Date().getTime()\n      let expired = {}\n      let key\n      let expiredItem\n\n      while ((expiredItem = $$expiresHeap.peek()) && expiredItem.expires <= now) {\n        expired[expiredItem.key] = expiredItem.value ? expiredItem.value : null\n        $$expiresHeap.pop()\n      }\n\n      if ($$storage) {\n        for (key in expired) {\n          let itemJson = $$storage().getItem(`${this.$$prefix}.data.${key}`)\n          if (itemJson) {\n            expired[key] = utils.fromJson(itemJson).value\n            this.remove(key)\n          }\n        }\n      } else {\n        for (key in expired) {\n          this.remove(key)\n        }\n      }\n\n      if (this.$$onExpire) {\n        for (key in expired) {\n          this.$$onExpire(key, expired[key])\n        }\n      }\n\n      return expired\n    },\n\n    setCacheFlushInterval (cacheFlushInterval) {\n      const _this = this\n      if (cacheFlushInterval === null) {\n        delete _this.$$cacheFlushInterval\n      } else if (!utils.isNumber(cacheFlushInterval)) {\n        throw new Error('cacheFlushInterval must be a number!')\n      } else if (cacheFlushInterval < 0) {\n        throw new Error('cacheFlushInterval must be greater than zero!')\n      } else if (cacheFlushInterval !== _this.$$cacheFlushInterval) {\n        _this.$$cacheFlushInterval = cacheFlushInterval\n\n        clearInterval(_this.$$cacheFlushIntervalId) // eslint-disable-line\n\n        _this.$$cacheFlushIntervalId = setInterval(function () {\n          _this.removeAll()\n        }, _this.$$cacheFlushInterval)\n      }\n    },\n\n    setCapacity (capacity) {\n      if (capacity === null) {\n        delete this.$$capacity\n      } else if (!utils.isNumber(capacity)) {\n        throw new Error('capacity must be a number!')\n      } else if (capacity < 0) {\n        throw new Error('capacity must be greater than zero!')\n      } else {\n        this.$$capacity = capacity\n      }\n      let removed = {}\n      while ($$lruHeap.size() > this.$$capacity) {\n        removed[$$lruHeap.peek().key] = this.remove($$lruHeap.peek().key)\n      }\n      return removed\n    },\n\n    setDeleteOnExpire (deleteOnExpire, setRecycleFreq) {\n      if (deleteOnExpire === null) {\n        delete this.$$deleteOnExpire\n      } else if (!utils.isString(deleteOnExpire)) {\n        throw new Error('deleteOnExpire must be a string!')\n      } else if (deleteOnExpire !== 'none' && deleteOnExpire !== 'passive' && deleteOnExpire !== 'aggressive') {\n        throw new Error('deleteOnExpire must be \"none\", \"passive\" or \"aggressive\"!')\n      } else {\n        this.$$deleteOnExpire = deleteOnExpire\n      }\n      if (setRecycleFreq !== false) {\n        this.setRecycleFreq(this.$$recycleFreq)\n      }\n    },\n\n    setMaxAge (maxAge) {\n      if (maxAge === null) {\n        this.$$maxAge = Number.MAX_VALUE\n      } else if (!utils.isNumber(maxAge)) {\n        throw new Error('maxAge must be a number!')\n      } else if (maxAge < 0) {\n        throw new Error('maxAge must be greater than zero!')\n      } else {\n        this.$$maxAge = maxAge\n      }\n      let i, keys, key\n\n      $$expiresHeap.removeAll()\n\n      if ($$storage) {\n        let keysJson = $$storage().getItem(`${this.$$prefix}.keys`)\n\n        keys = keysJson ? utils.fromJson(keysJson) : []\n\n        for (i = 0; i < keys.length; i++) {\n          key = keys[i]\n          let itemJson = $$storage().getItem(`${this.$$prefix}.data.${key}`)\n\n          if (itemJson) {\n            let item = utils.fromJson(itemJson)\n            if (this.$$maxAge === Number.MAX_VALUE) {\n              item.expires = Number.MAX_VALUE\n            } else {\n              item.expires = item.created + (item.maxAge || this.$$maxAge)\n            }\n            $$expiresHeap.push({\n              key: key,\n              expires: item.expires\n            })\n          }\n        }\n      } else {\n        keys = _keys($$data)\n\n        for (i = 0; i < keys.length; i++) {\n          key = keys[i]\n          if (this.$$maxAge === Number.MAX_VALUE) {\n            $$data[key].expires = Number.MAX_VALUE\n          } else {\n            $$data[key].expires = $$data[key].created + ($$data[key].maxAge || this.$$maxAge)\n          }\n          $$expiresHeap.push($$data[key])\n        }\n      }\n      if (this.$$deleteOnExpire === 'aggressive') {\n        return this.removeExpired()\n      } else {\n        return {}\n      }\n    },\n\n    setOnExpire (onExpire) {\n      if (onExpire === null) {\n        delete this.$$onExpire\n      } else if (!utils.isFunction(onExpire)) {\n        throw new Error('onExpire must be a function!')\n      } else {\n        this.$$onExpire = onExpire\n      }\n    },\n\n    setOptions (cacheOptions, strict) {\n      cacheOptions = cacheOptions || {}\n      strict = !!strict\n      if (!utils.isObject(cacheOptions)) {\n        throw new Error('cacheOptions must be an object!')\n      }\n\n      if ('storagePrefix' in cacheOptions) {\n        this.$$storagePrefix = cacheOptions.storagePrefix\n      } else if (strict) {\n        this.$$storagePrefix = defaults.storagePrefix\n      }\n\n      this.$$prefix = this.$$storagePrefix + this.$$id\n\n      if ('disabled' in cacheOptions) {\n        this.$$disabled = !!cacheOptions.disabled\n      } else if (strict) {\n        this.$$disabled = defaults.disabled\n      }\n\n      if ('deleteOnExpire' in cacheOptions) {\n        this.setDeleteOnExpire(cacheOptions.deleteOnExpire, false)\n      } else if (strict) {\n        this.setDeleteOnExpire(defaults.deleteOnExpire, false)\n      }\n\n      if ('recycleFreq' in cacheOptions) {\n        this.setRecycleFreq(cacheOptions.recycleFreq)\n      } else if (strict) {\n        this.setRecycleFreq(defaults.recycleFreq)\n      }\n\n      if ('maxAge' in cacheOptions) {\n        this.setMaxAge(cacheOptions.maxAge)\n      } else if (strict) {\n        this.setMaxAge(defaults.maxAge)\n      }\n\n      if ('storeOnResolve' in cacheOptions) {\n        this.$$storeOnResolve = !!cacheOptions.storeOnResolve\n      } else if (strict) {\n        this.$$storeOnResolve = defaults.storeOnResolve\n      }\n\n      if ('storeOnReject' in cacheOptions) {\n        this.$$storeOnReject = !!cacheOptions.storeOnReject\n      } else if (strict) {\n        this.$$storeOnReject = defaults.storeOnReject\n      }\n\n      if ('capacity' in cacheOptions) {\n        this.setCapacity(cacheOptions.capacity)\n      } else if (strict) {\n        this.setCapacity(defaults.capacity)\n      }\n\n      if ('cacheFlushInterval' in cacheOptions) {\n        this.setCacheFlushInterval(cacheOptions.cacheFlushInterval)\n      } else if (strict) {\n        this.setCacheFlushInterval(defaults.cacheFlushInterval)\n      }\n\n      if ('onExpire' in cacheOptions) {\n        this.setOnExpire(cacheOptions.onExpire)\n      } else if (strict) {\n        this.setOnExpire(defaults.onExpire)\n      }\n\n      if ('storageMode' in cacheOptions || 'storageImpl' in cacheOptions) {\n        this.setStorageMode(cacheOptions.storageMode || defaults.storageMode, cacheOptions.storageImpl || defaults.storageImpl)\n      } else if (strict) {\n        this.setStorageMode(defaults.storageMode, defaults.storageImpl)\n      }\n    },\n\n    setRecycleFreq (recycleFreq) {\n      if (recycleFreq === null) {\n        delete this.$$recycleFreq\n      } else if (!utils.isNumber(recycleFreq)) {\n        throw new Error('recycleFreq must be a number!')\n      } else if (recycleFreq < 0) {\n        throw new Error('recycleFreq must be greater than zero!')\n      } else {\n        this.$$recycleFreq = recycleFreq\n      }\n      clearInterval(this.$$recycleFreqId)\n      if (this.$$deleteOnExpire === 'aggressive') {\n        (function (self) {\n          self.$$recycleFreqId = setInterval(function () {\n            self.removeExpired()\n          }, self.$$recycleFreq)\n        })(this)\n      } else {\n        delete this.$$recycleFreqId\n      }\n    },\n\n    setStorageMode (storageMode, storageImpl) {\n      if (!utils.isString(storageMode)) {\n        throw new Error('storageMode must be a string!')\n      } else if (storageMode !== 'memory' && storageMode !== 'localStorage' && storageMode !== 'sessionStorage') {\n        throw new Error('storageMode must be \"memory\", \"localStorage\" or \"sessionStorage\"!')\n      }\n\n      const prevStorage = $$storage\n      const prevData = $$data\n      let shouldReInsert = false\n      let items = {}\n\n      function load (prevStorage, prevData) {\n        const keys = this.keys()\n        const length = keys.length\n        if (length) {\n          let key\n          const prevDataIsObject = utils.isObject(prevData)\n          for (var i = 0; i < length; i++) {\n            key = keys[i]\n            if (prevStorage) {\n              const itemJson = prevStorage().getItem(`${this.$$prefix}.data.${key}`)\n              if (itemJson) {\n                items[key] = utils.fromJson(itemJson)\n              }\n            } else if (prevDataIsObject) {\n              items[key] = prevData[key]\n            }\n            this.remove(key)\n          }\n          shouldReInsert = true\n        }\n      }\n\n      if (!this.$$initializing) {\n        load.call(this, prevStorage, prevData)\n      }\n\n      this.$$storageMode = storageMode\n\n      if (storageImpl) {\n        if (!utils.isObject(storageImpl)) {\n          throw new Error('storageImpl must be an object!')\n        } else if (!('setItem' in storageImpl) || typeof storageImpl.setItem !== 'function') {\n          throw new Error('storageImpl must implement \"setItem(key, value)\"!')\n        } else if (!('getItem' in storageImpl) || typeof storageImpl.getItem !== 'function') {\n          throw new Error('storageImpl must implement \"getItem(key)\"!')\n        } else if (!('removeItem' in storageImpl) || typeof storageImpl.removeItem !== 'function') {\n          throw new Error('storageImpl must implement \"removeItem(key)\"!')\n        }\n        $$storage = () => storageImpl\n      } else if (this.$$storageMode === 'localStorage') {\n        try {\n          localStorage.setItem('cachefactory', 'cachefactory')\n          localStorage.removeItem('cachefactory')\n          $$storage = () => localStorage\n        } catch (e) {\n          $$storage = null\n          this.$$storageMode = 'memory'\n        }\n      } else if (this.$$storageMode === 'sessionStorage') {\n        try {\n          sessionStorage.setItem('cachefactory', 'cachefactory')\n          sessionStorage.removeItem('cachefactory')\n          $$storage = () => sessionStorage\n        } catch (e) {\n          $$storage = null\n          this.$$storageMode = 'memory'\n        }\n      } else {\n        $$storage = null\n        this.$$storageMode = 'memory'\n      }\n\n      if (this.$$initializing) {\n        load.call(this, $$storage, $$data)\n      }\n\n      if (shouldReInsert) {\n        let item\n        for (var key in items) {\n          item = items[key]\n          this.put(key, item.value, {\n            created: item.created,\n            accessed: item.accessed,\n            expires: item.expires\n          })\n        }\n      }\n    },\n\n    touch (key, options) {\n      if (key) {\n        let val = this.get(key, {\n          onExpire: (k, v) => this.put(k, v)\n        })\n        if (val) {\n          this.put(key, val, options)\n        }\n      } else {\n        let keys = this.keys()\n        for (var i = 0; i < keys.length; i++) {\n          this.touch(keys[i], options)\n        }\n      }\n    },\n\n    values () {\n      const keys = this.keys()\n      const items = []\n      for (var i = 0; i < keys.length; i++) {\n        items.push(this.get(keys[i]))\n      }\n      return items\n    }\n  }\n\n  cache.$$initializing = true\n  cache.setOptions(options, true)\n  cache.$$initializing = false\n\n  return cache\n}\n\nfunction CacheFactory (cacheId, options) {\n  return createCache(cacheId, options)\n}\n\nCacheFactory.createCache = createCache\nCacheFactory.defaults = defaults\n\nCacheFactory.info = function () {\n  const keys = _keys(caches)\n  const info = {\n    size: keys.length,\n    caches: {}\n  }\n  for (var opt in defaults) {\n    if (defaults.hasOwnProperty(opt)) {\n      info[opt] = defaults[opt]\n    }\n  }\n  for (var i = 0; i < keys.length; i++) {\n    let key = keys[i]\n    info.caches[key] = caches[key].info()\n  }\n  return info\n}\n\nCacheFactory.get = function (cacheId) { return caches[cacheId] }\nCacheFactory.keySet = function () { return _keySet(caches) }\nCacheFactory.keys = function () { return _keys(caches) }\nCacheFactory.destroy = function (cacheId) {\n  if (caches[cacheId]) {\n    caches[cacheId].destroy()\n    delete caches[cacheId]\n  }\n}\nCacheFactory.destroyAll = function () {\n  for (var cacheId in caches) {\n    caches[cacheId].destroy()\n  }\n  caches = {}\n}\nCacheFactory.clearAll = function () {\n  for (var cacheId in caches) {\n    caches[cacheId].removeAll()\n  }\n}\nCacheFactory.removeExpiredFromAll = function () {\n  const expired = {}\n  for (var cacheId in caches) {\n    expired[cacheId] = caches[cacheId].removeExpired()\n  }\n  return expired\n}\nCacheFactory.enableAll = function () {\n  for (var cacheId in caches) {\n    caches[cacheId].$$disabled = false\n  }\n}\nCacheFactory.disableAll = function () {\n  for (var cacheId in caches) {\n    caches[cacheId].$$disabled = true\n  }\n}\nCacheFactory.touchAll = function () {\n  for (var cacheId in caches) {\n    caches[cacheId].touch()\n  }\n}\n\nCacheFactory.utils = utils\nCacheFactory.BinaryHeap = BinaryHeap\n\nexport default CacheFactory\n"],"names":[],"mappings":"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"}